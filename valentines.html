<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>ArcGIS Maps SDK for JavaScript Tutorials: Add a point, line, and polygon</title>
  <style>
    html, body, #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }
  </style>
  <link rel="stylesheet" href="https://js.arcgis.com/4.25/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.25/"></script>
  <script>

        require([
            "esri/config",
            "esri/Map",
            "esri/views/MapView",

            // Add Graphics modules
            "esri/Graphic",
            "esri/layers/GraphicsLayer",
            // Add module for FeatureLayer
            "esri/layers/FeatureLayer"

            ], function(esriConfig, Map, MapView, Graphic, GraphicsLayer, FeatureLayer) {

        // esriConfig.apiKey = "AAPKf9083aa252be40959ad919f505552987X7qO6dJmJeR5qPdI6NQ3uyRgguN3kTU2vVzalVnhBH5uWL6Q6eymT4xckXw-L_cZ";

        const map = new Map({
            basemap: "hybrid" //Basemap layer service
        });

        const view = new MapView({
            map: map,
            center: [-71.206861, 46.809066], //Longitude, latitude; around Quebec City, PQ
            zoom: 11,
            container: "viewDiv"
        });

        // Create container for graphics
        const graphicsLayer = new GraphicsLayer();
        map.add(graphicsLayer);

 
        // Create a polygon geometry of boat (used https://geojson.io/ to get coordinates)
        const polygon = {
            type: "polygon",
            rings: [
                [-71.16179264394404, 46.84588720523416],
                [-71.15940658155846, 46.84192368254497],
                [-71.15224839440238, 46.83803759210684],
                [-71.12827414853102, 46.83966978432514],
                [-71.1242973778884, 46.843711189763155],
                [-71.12372926779689, 46.84837397212789],
                [-71.14758989165004, 46.84689746816932],
                [-71.14793075770523, 46.84938418829404],
                [-71.13111469898931, 46.850316678660164],
                [-71.15088493018233, 46.86274833657774],
                [-71.14929422192529, 46.84689746816932],
                [-71.16179264394404, 46.84588720523416]
            ]
        };

        // Fill symbology for boat polygon
        const simpleFillSymbol = {
            type: "simple-fill",
            color: [217, 130, 212, 0.8],  // Magenta, opacity 80%
            outline: {
                color: [255, 255, 255],
                width: 1
            }
        };

        // For pop-up display for boat polygon
        const popupTemplate = {
            title: "{Name}",
            content: "{Description}"
        }
        const attributes = {
            Name: "Knot for Sail",
            Description: "Come seas the moment with me because it is a-boat to be wild~"
        }

        const polygonGraphic = new Graphic({
            geometry: polygon,
            symbol: simpleFillSymbol,

            attributes: attributes,
            popupTemplate: popupTemplate

        });
        graphicsLayer.add(polygonGraphic);

        // St. Lawrence River feature layer (line)
        // Testing use of data hosted on my account on ArcGIS Online
        const StLarenceRiverLayer = new FeatureLayer({
            url: "https://services1.arcgis.com/pMeXRvgWClLJZr3s/ArcGIS/rest/services/StLawrenceRiver/FeatureServer/0"
        });

        map.add(StLarenceRiverLayer);

        });
  </script>
</head>
<body>
  <div id="viewDiv"></div>
</body>
</html>